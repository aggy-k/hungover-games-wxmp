<view class='text-center tabbar'>
  <text class='header-lg bold mb'>Your Games</text>
  <block wx:if="{{isUpcoming === true}}">
    <!-- tabbar -->
    <view class='d-flex item-center content-center w100'>
      <view class='tab-active header-md w50 text-center py'>Upcoming ({{signups.length}})</view>
      <view class='tab-inactive header-md text-grey w50 text-center py' bindtap="showPastSignups">Past ({{pastSignups.length}})</view>
    </view>
  </block>

  <block wx:if="{{isUpcoming === false}}">
    <!-- tabbar -->
    <view class='d-flex item-center content-center w100'>
      <view class='tab-inactive header-md text-grey w50 text-center py' bindtap="showSignups">Upcoming ({{signups.length}})</view>
      <view class='tab-active header-md w50 text-center py'>Past ({{pastSignups.length}})</view>
    </view>
  </block>
</view>

<!-- UPCOMING BLOCK -->
<view class='container'>

  <block wx:if="{{isUpcoming === true}}">
    <view wx:for="{{games}}" wx:for-item="game" wx:key="unique" class="py card" style='padding-top: 0px;'>
      
      <!-- DATE -->
      <!-- <view class='bg-orange pa' style='border-radius: 5px 5px 0px 0px;'>
        <view class='header-md bold text-white'>{{game.start_time}}</view>
      </view> -->
      
      <view class='card-content'>
        <!-- DATE -->
        <view>
          <view>{{game.start_time.weekDay}}, {{game.start_time.day}} {{game.start_time.month}}</view>
          <view>{{game.start_time.time}} - {{game.end_time.time}}</view>
        </view>

        <!-- ATTENDEE SIGN UP STATUSES -->
        <view >
          <view class='d-flex'>
            <view>
              <text>Signed up</text>
              <text>{{game.userSignedUp}}</text>
            </view>
            <view class='bg-red text-white px rounded' style='right: 1px; top: 10px;' bindtap='cancelSignUp' data-game-id="{{game.id}}">Cancel a spot</view>
          </view>

          <view class='d-flex'>
            <view>
              <text>Waitlisted</text>
              <text>{{game.userWaitlisted}}</text>
            </view>
            <view class='bg-red text-white px rounded' style='right: 1px; top: 10px;' bindtap='cancelWaitlist' data-game-id="{{game.id}}">Cancel a spot</view>
          </view>
          
          <view class='d-flex'>
            <text>Cancelled</text>
            <text>{{game.userCancelled}}</text>
          </view>
        </view>
      </view>

      <!-- SIGN UP DETAILS -->
      <!-- <view wx:for="{{game.signups}}" wx:for-item="attendee" wx:key="unique">
        <view wx:if="{{attendee.user_id === userId}}" class='card-content header-sm text-dark-grey pa pos-relative'>
          {{attendee.attendee}} - {{attendee.signup_status}}
          <view wx:if="{{(attendee.signup_status === 'Signed-up') || (attendee.signup_status === 'Waitlisted')}}"class='pos-absolute bg-red text-white px rounded' style='right: 1px; top: 10px;'>Cancel</view>
        </view>
      </view> -->
      
      <!-- <view class='grid-bottom-ghost-orange py d-flex content-center item-center'>
        <text class='header-md text-orange bold'>View game</text>
      </view> -->
    </view>
    
  </block>
</view>
